{% include 'codiotix/base.html'%}
{%block content%}
<div class="container mx-auto text-white">
    {%if gen%}
    <h1 class="h1 text-white text-center my-5">{{gen.type}}</h1>
    {%endif%}
    {%if language%}
    <h1 class="h1 text-white text-center my-5">{{language.language_type}}</h1>
    {%endif%}
    {%if noresult%}
    <h6 class="h6 text-white text-center">{{noresult}}</h6>
    {%endif%}
    {%if nogenre%}
    <h6 class="h6 text-white text-center">{{nogenre}}</h6>
    {%endif%}
    {% if res %}
     <h3 class="h3 mt-4 mx-auto" style="margin:20px !important;">{{res}}</h3>
     {%endif%}
     {%if error%}
     <p class="mt-3 mx-auto" style="color:red; margin:20px !important;">We couldn't find anything matching <b>{{error}}.</b></p>
     {%endif%}
     {%if notfound%}
     <p class="mt-3 mx-auto" style="color:red; margin:20px !important;">{{notfound}}</p>
     {%endif%}

     {%if gen%}
    <!--Genre filtering-->
  <div class="row g-3 my-4">
      {%for movie in movies%}
      <div class="col-lg-4 col-md-6 col-sm-6 col-xs-12" style="border:2px solid white">
        <div class="card text-muted">
            <img class="card-img-top" src="{{movie.image.url}}" alt="{{movie.name}}" style="height:200px !important;">
            <div class="card-body">
              <h5 class="card-title">{{movie.name}}</h5>
              <p class="card-text">{{movie.desc|truncatechars:40}}</p>
              <a href="{%url 'ShowMovie' movie.id%}" class="btn btn-primary">View</a>
            </div>
          </div>
      </div>
      {%endfor%}
      {%for webserie in webseries%}
      <div class="col-lg-4 col-md-6 col-sm-6 col-xs-12">
        <div class="card text-muted">
            <img class="card-img-top" src="{{webserie.image.url}}" alt="{{webserie.name}}" style="height:200px !important;">
            <div class="card-body">
              <h5 class="card-title">{{webserie.name}}</h5>
              <p class="card-text">{{webserie.desc|truncatechars:40}}</p>
              <a href="{%url 'ShowWebserie' webserie.id%}" class="btn btn-primary">View</a>
            </div>
          </div>
      </div>
      {%endfor%}

      {%for documentary in documentaries%}
      <div class="col-lg-4 col-md-6 col-sm-6 col-xs-12">
        <div class="card text-muted">
            <img class="card-img-top" src="{{documentary.image.url}}" alt="{{documentary.name}}" style="height:200px !important;">
            <div class="card-body">
              <h5 class="card-title">{{documentary.name}}</h5>
              <p class="card-text">{{documentary.desc|truncatechars:40}}</p>
              <a href="{%url 'ShowDocumentary' documentary.id%}" class="btn btn-primary">View</a>
            </div>
          </div>
      </div>
      {%endfor%}
     
  </div>
</div>
{%endif%}

   {%if language%}
    <!--Language filtering-->
    <div class="row g-3 my-4">
        {%for movie in movies%}
        <div class="col-lg-4 col-md-6 col-sm-6 col-xs-12" >
          <div class="card text-muted">
              <img class="card-img-top" src="{{movie.image.url}}" alt="{{movie.name}}" style="height:200px !important;">
              <div class="card-body">
                <h5 class="card-title">{{movie.name}}</h5>
                <p class="card-text">{{movie.desc|truncatechars:40}}</p>
                <a href="{%url 'ShowMovie' movie.id%}" class="btn btn-primary">View</a>
              </div>
            </div>
        </div>
        {%endfor%}
        {%for webserie in webseries%}
        <div class="col-lg-4 col-md-6 col-sm-6 col-xs-12">
          <div class="card text-muted">
              <img class="card-img-top" src="{{webserie.image.url}}" alt="{{webserie.name}}" style="height:200px !important;">
              <div class="card-body">
                <h5 class="card-title">{{webserie.name}}</h5>
                <p class="card-text">{{webserie.desc|truncatechars:40}}</p>
                <a href="{%url 'ShowWebserie' webserie.id%}" class="btn btn-primary">View</a>
              </div>
            </div>
        </div>
        {%endfor%}

        {%for documentary in documentaries%}
        <div class="col-lg-4 col-md-6 col-sm-6 col-xs-12">
          <div class="card text-muted">
              <img class="card-img-top" src="{{documentary.image.url}}" alt="{{documentary.name}}" style="height:200px !important;">
              <div class="card-body">
                <h5 class="card-title">{{documentary.name}}</h5>
                <p class="card-text">{{documentary.desc|truncatechars:40}}</p>
                <a href="{%url 'ShowDocumentary' documentary.id%}" class="btn btn-primary">View</a>
              </div>
            </div>
        </div>
        {%endfor%}
       
    </div>
  </div>
  {%endif%}

  {%if noshow%}
  <!--Language filtering-->
  <div class="row g-3 my-4">
      {%for movie in movies%}
      <div class="col-lg-4 col-md-6 col-sm-6 col-xs-12">
        <div class="card text-muted">
            <img class="card-img-top" src="{{movie.image.url}}" alt="{{movie.name}}" style="height:200px !important;">
            <div class="card-body">
              <h5 class="card-title">{{movie.name}}</h5>
              <p class="card-text">{{movie.desc|truncatechars:40}}</p>
              <a href="{%url 'ShowMovie' movie.id%}" class="btn btn-primary">View</a>
            </div>
          </div>
      </div>
      {%endfor%}
      {%for webserie in webseries%}
      <div class="col-lg-4 col-md-6 col-sm-6 col-xs-12">
        <div class="card text-muted">
            <img class="card-img-top" src="{{webserie.image.url}}" alt="{{webserie.name}}" style="height:200px !important;">
            <div class="card-body">
              <h5 class="card-title">{{webserie.name}}</h5>
              <p class="card-text">{{webserie.desc|truncatechars:40}}</p>
              <a href="{%url 'ShowWebserie' webserie.id%}" class="btn btn-primary">View</a>
            </div>
          </div>
      </div>
      {%endfor%}

      {%for documentary in documentaries%}
      <div class="col-lg-4 col-md-6 col-sm-6 col-xs-12">
        <div class="card text-muted">
            <img class="card-img-top" src="{{documentary.image.url}}" alt="{{documentary.name}}" style="height:200px !important;">
            <div class="card-body">
              <h5 class="card-title">{{documentary.name}}</h5>
              <p class="card-text">{{documentary.desc|truncatechars:40}}</p>
              <a href="{%url 'ShowDocumentary' documentary.id%}" class="btn btn-primary">View</a>
            </div>
          </div>
      </div>
      {%endfor%}
     
  </div>
</div>
{%endif%}

{%endblock content%}